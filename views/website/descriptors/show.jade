extends ../layout
block content
	h1(idmongo="#{descriptor.id}")
		p(id="name_descriptor-#{descriptor.id}") #{descriptor.name}
	table.table.table-condensed(id='table-descriptor')
		thead(id="DescriptorTitle")
			tr
				td Key
				td Description
				td
				td
		tbody
			tr(id='row_descriptor-#{descriptor.id}')
				td(id='description_descriptor-#{descriptor.id}')
					p(id='keyaccess_descriptor-#{descriptor.id}') #{descriptor.keyaccess}

				td(id='description_descriptor-#{descriptor.id}')
					p(id='description_descriptor-#{descriptor.id}') #{descriptor.description}

				td 
					button(type="button", class='btn btn-info btn-lg updatedscrptr', id='btn-up-descriptor', idmongo='#{descriptor.id}')
						span.glyphicon.glyphicon-pencil
						|  Update
				td 
					button(type="button", class='btn btn-info deletedscrptr', id='btn-dlt-descriptor', idmongo='#{descriptor.id}') Delete
	h3 Categories 
		button.btn.btn-default(type="submit", id='btn-new-categoryD', value="+") +
	div.dscrptr-in
	-if(categories.length >= 0)
		table.table.table-condensed(id='table-category')
			thead(id="CategoryTitle")
				tr
					td Name
					td Keyaccess
					td Description
			tbody
				-each item in categories
					tr(id='row_category-#{item.name}')
						td(id='name_category-#{item.name}') 
							p #{item.name}

						td(id='key_category-#{item.name}') 
							p #{item.keyaccess}

						td(id='descrip_category-#{item.name}') 
							p #{item.description}

						td 
							button(type="button", class='btn btn-info btn-lg updatedscrptr', id='btn-update-Categorydescriptor', category-name='#{item.name}', key='#{item.keyaccess}') Update
						td 
							button(type="button", class='btn btn-info deletedscrptr', id='btn-delete-Categorydescriptor', category-name='#{item.name}', key='#{item.keyaccess}') Delete
	-else
		p No existen descriptores creados

	a(href="/api/showdescriptors") return